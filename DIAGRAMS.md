# Remember MCP Extension - Visual Diagrams & Flowcharts

This document provides visual representations of the extension's architecture, data flows, and processes using both Mermaid and ASCII art.

## Table of Contents

- [Extension Input/Output Overview](#extension-inputoutput-overview)
- [Primary Feature: Analytics Pipeline](#primary-feature-analytics-pipeline)
- [Secondary Feature: MCP Server Integration](#secondary-feature-mcp-server-integration)
- [Troubleshooting Flowcharts](#troubleshooting-flowcharts)

---

## Extension Input/Output Overview

### What Goes In, What Comes Out

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        REMEMBER MCP EXTENSION                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

INPUT                              PROCESSING                           OUTPUT
â•â•â•â•â•                              â•â•â•â•â•â•â•â•â•â•                          â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Chat Session    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ ChatSession     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Usage Analytics  â”‚
â”‚ JSON Files      â”‚               â”‚ Scanner         â”‚                â”‚ Dashboard        â”‚
â”‚                 â”‚               â”‚                 â”‚                â”‚                  â”‚
â”‚ Location:       â”‚               â”‚ â€¢ Parses JSON   â”‚                â”‚ â€¢ Total requests â”‚
â”‚ ~/.vscode/User/ â”‚               â”‚ â€¢ Validates     â”‚                â”‚ â€¢ Model breakdownâ”‚
â”‚ globalStorage/  â”‚               â”‚ â€¢ Extracts      â”‚                â”‚ â€¢ Agent stats    â”‚
â”‚ .../chatSessionsâ”‚               â”‚   metadata      â”‚                â”‚ â€¢ Edit tracking  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â€¢ Time series    â”‚
                                                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚ Copilot Log     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ GlobalLog       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Files           â”‚               â”‚ Scanner         â”‚                           â”‚
â”‚                 â”‚               â”‚                 â”‚                           â”‚
â”‚ Location:       â”‚               â”‚ â€¢ Parses logs   â”‚                           â”‚
â”‚ ~/.vscode/logs/ â”‚               â”‚ â€¢ Extracts      â”‚                           â–¼
â”‚ .../window*/    â”‚               â”‚   requests      â”‚                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ copilot-chat.logâ”‚               â”‚ â€¢ Tracks        â”‚                â”‚ Activity Feed    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚   positions     â”‚                â”‚                  â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â€¢ Recent actions â”‚
                                           â”‚                          â”‚ â€¢ Model used     â”‚
                                           â”‚                          â”‚ â€¢ Files edited   â”‚
                                           â–¼                          â”‚ â€¢ Timestamps     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ VS Code File    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Unified         â”‚                           â”‚
â”‚ System Watcher  â”‚               â”‚ SessionData     â”‚                           â”‚
â”‚                 â”‚               â”‚ Service         â”‚                           â–¼
â”‚ Detects:        â”‚               â”‚                 â”‚                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ New files     â”‚               â”‚ â€¢ Merges data   â”‚                â”‚ Data Export      â”‚
â”‚ â€¢ Modified filesâ”‚               â”‚ â€¢ Deduplicates  â”‚                â”‚                  â”‚
â”‚ â€¢ Real-time     â”‚               â”‚ â€¢ Normalizes    â”‚                â”‚ â€¢ JSON format    â”‚
â”‚   updates       â”‚               â”‚ â€¢ Caches        â”‚                â”‚ â€¢ CSV format     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â€¢ Complete data  â”‚
                                           â”‚                          â”‚ â€¢ Filtered data  â”‚
                                           â–¼                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                  â”‚ Analytics       â”‚
                                  â”‚ Service         â”‚
                                  â”‚                 â”‚
                                  â”‚ â€¢ Computes KPIs â”‚
                                  â”‚ â€¢ Applies       â”‚
                                  â”‚   filters       â”‚
                                  â”‚ â€¢ Calculates    â”‚
                                  â”‚   statistics    â”‚
                                  â”‚ â€¢ Generates     â”‚
                                  â”‚   charts data   â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Primary Feature: Analytics Pipeline

### End-to-End Data Processing Flow

```mermaid
graph TD
    A[User Uses Copilot] --> B[VS Code Writes Session Data]
    B --> C{File Type?}
    
    C -->|Session JSON| D[ChatSessionScanner]
    C -->|Log File| E[GlobalLogScanner]
    
    D --> F[Parse JSON Structure]
    E --> G[Parse Log Entries]
    
    F --> H[Validate Schema]
    G --> I[Extract Metadata]
    
    H --> J[UnifiedSessionDataService]
    I --> J
    
    J --> K[Merge & Normalize Data]
    K --> L[Cache Results]
    
    L --> M{User Action?}
    
    M -->|View Dashboard| N[AnalyticsService]
    M -->|Apply Filter| N
    M -->|Export Data| O[Export Handler]
    
    N --> P[Compute KPIs]
    P --> Q[Calculate Statistics]
    Q --> R[Generate Time Series]
    R --> S[Render UI]
    
    O --> T[Format as JSON/CSV]
    T --> U[Save to File System]
    
    S --> V[User Sees Results]
    U --> V
    
    style A fill:#e3f2fd
    style B fill:#e3f2fd
    style J fill:#fff3e0
    style N fill:#ffebee
    style V fill:#c8e6c9
```

### Real-Time Update Cycle

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  File System Watcher (ForceFileWatcher)  â”‚
                    â”‚  Monitors: Session files & Log files     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  File Change Detected             â”‚
                    â”‚  (new file, modification, append) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Debounce (500ms)                 â”‚
                    â”‚  Prevents rapid-fire processing   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Scanner Processes File           â”‚
                    â”‚  â€¢ Read new/changed content only  â”‚
                    â”‚  â€¢ Parse relevant data            â”‚
                    â”‚  â€¢ Validate structure             â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Unified Service Updates          â”‚
                    â”‚  â€¢ Merge with existing data       â”‚
                    â”‚  â€¢ Update caches                  â”‚
                    â”‚  â€¢ Notify subscribers             â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Analytics Service Recomputes     â”‚
                    â”‚  â€¢ Invalidate affected metrics    â”‚
                    â”‚  â€¢ Recalculate KPIs               â”‚
                    â”‚  â€¢ Update time series             â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  UI Panels Update                 â”‚
                    â”‚  â€¢ Refresh displayed data         â”‚
                    â”‚  â€¢ Animate changes                â”‚
                    â”‚  â€¢ Update charts                  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ User Sees     â”‚
                              â”‚ Updated Stats â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              
          Total Latency: ~500-1000ms from file change to UI update
```

---

## Secondary Feature: MCP Server Integration

### MCP Server Registration & Lifecycle

```mermaid
stateDiagram-v2
    [*] --> Checking: Extension Activates
    
    Checking --> Prerequisites: Check Config
    Prerequisites --> HasPython: Check Python
    
    HasPython --> NoPython: Python Not Found
    HasPython --> HasPipx: Python Found
    
    NoPython --> Disabled: Show Warning
    
    HasPipx --> NoPipx: pipx Not Found
    HasPipx --> CanRegister: pipx Found
    
    NoPipx --> OfferInstall: Python 3.10+?
    OfferInstall --> CanRegister: pipx Installed
    OfferInstall --> Disabled: User Declined
    
    CanRegister --> Registering: Auto-Start Enabled
    Registering --> Registered: Success
    Registering --> Error: Registration Failed
    
    Registered --> Running: VS Code Spawns Server
    Running --> Idle: No Active Tools
    Idle --> Running: Tool Called
    Running --> Stopped: User Stops Server
    
    Error --> Disabled: Show Error
    Disabled --> [*]: Analytics Still Work
    Stopped --> CanRegister: User Restarts
    
    Registered --> [*]: Extension Deactivates
```

### Communication Architecture (Optional MCP Feature)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         VS CODE ENVIRONMENT                                   â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Remember MCP Extension                               â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                             â”‚ â”‚
â”‚  â”‚   â”‚ RememberMcpManager   â”‚                                             â”‚ â”‚
â”‚  â”‚   â”‚                      â”‚                                             â”‚ â”‚
â”‚  â”‚   â”‚ â€¢ Checks prereqs     â”‚                                             â”‚ â”‚
â”‚  â”‚   â”‚ â€¢ Registers provider â”‚                                             â”‚ â”‚
â”‚  â”‚   â”‚ â€¢ Shows status       â”‚                                             â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                             â”‚ â”‚
â”‚  â”‚              â”‚                                                          â”‚ â”‚
â”‚  â”‚              â”‚ registerMcpServerDefinitionProvider()                    â”‚ â”‚
â”‚  â”‚              â–¼                                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                 â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              VS Code MCP System                                       â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  â€¢ Stores server definition                                           â”‚ â”‚
â”‚  â”‚  â€¢ Spawns server process on demand                                    â”‚ â”‚
â”‚  â”‚  â€¢ Manages stdin/stdout pipes                                         â”‚ â”‚
â”‚  â”‚  â€¢ Handles JSON-RPC protocol                                          â”‚ â”‚
â”‚  â”‚  â€¢ Shuts down server when idle                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                 â”‚                                     â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                                     â”‚
                  â”‚ Spawns Process                      â”‚ JSON-RPC over stdio
                  â”‚ (when needed)                       â”‚ (bidirectional)
                  â–¼                                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚        EXTERNAL PROCESS (Python)                         â”‚
         â”‚                                                          â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
         â”‚  â”‚        mode-manager-mcp Server                     â”‚ â”‚
         â”‚  â”‚                                                    â”‚ â”‚
         â”‚  â”‚  â€¢ Provides MCP tools                             â”‚ â”‚
         â”‚  â”‚    - remember_personal()                          â”‚ â”‚
         â”‚  â”‚    - remember_workspace()                         â”‚ â”‚
         â”‚  â”‚    - recall_memories()                            â”‚ â”‚
         â”‚  â”‚  â€¢ Manages memory files                           â”‚ â”‚
         â”‚  â”‚  â€¢ Provides chat modes                            â”‚ â”‚
         â”‚  â”‚  â€¢ Responds to JSON-RPC                           â”‚ â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â–²
                                    â”‚ Used by
                                    â”‚ (via VS Code MCP System)
                                    â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  GitHub Copilot Chat   â”‚
                        â”‚                        â”‚
                        â”‚  â€¢ Discovers tools     â”‚
                        â”‚  â€¢ Calls tools         â”‚
                        â”‚  â€¢ Uses responses      â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

KEY POINTS:
â€¢ Extension does NOT communicate with MCP server directly
â€¢ VS Code handles ALL server lifecycle management
â€¢ Extension role: Registration only
â€¢ Analytics feature: Completely independent of MCP
```

---

## Troubleshooting Flowcharts

### Troubleshooting: No Analytics Data Showing

```mermaid
graph TD
    A[No data in analytics panel] --> B{Have you used Copilot Chat?}
    
    B -->|No| C[Use Copilot Chat first<br/>to generate data]
    B -->|Yes| D{Check VS Code version}
    
    D -->|< 1.95| E[Upgrade VS Code<br/>to 1.95+]
    D -->|>= 1.95| F{Check extension logs}
    
    F --> G[Open Output panel<br/>Select 'Remember MCP']
    G --> H{See error messages?}
    
    H -->|Yes| I[Review error details]
    I --> J{Permission errors?}
    
    J -->|Yes| K[Check file permissions<br/>on .vscode directory]
    J -->|No| L{Path not found?}
    
    L -->|Yes| M[Verify VS Code user<br/>data directory location]
    L -->|No| N[Report issue with logs]
    
    H -->|No| O{Data files exist?}
    O --> P[Check:<br/>~/.vscode/User/globalStorage]
    P --> Q{chatSessions folders found?}
    
    Q -->|No| R[Normal - No sessions yet<br/>Use Copilot to create]
    Q -->|Yes| S[Click 'Scan Chat Sessions'<br/>button in panel]
    
    C --> T[Data should appear<br/>after Copilot usage]
    E --> T
    K --> T
    M --> T
    S --> T
    
    style A fill:#ffebee
    style T fill:#c8e6c9
    style N fill:#fff3e0
```

### Troubleshooting: MCP Server Won't Register

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ MCP Server Registration Fails â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Do you need MCP server?      â”‚
                    â”‚ (Memory & chat modes)        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚              â”‚
                          NO             YES
                           â”‚              â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ Disable auto-start â”‚    â”‚ Check Prerequisites   â”‚
          â”‚ in settings        â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                    â”‚           â”‚
          â”‚ remember-mcp.      â”‚    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ server.autoStart   â”‚    â”‚ Run: python --version â”‚
          â”‚ = false            â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                    â”‚           â”‚
          â”‚ Analytics still    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ work perfectly!    â”‚    â”‚ Python found?         â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                                       â”‚              â”‚
                                      NO             YES
                                       â”‚              â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚ Install Python  â”‚    â”‚ Run: pipx --ver  â”‚
                         â”‚ 3.10+ from      â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ python.org      â”‚           â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                â”‚ pipx found?       â”‚
                                                â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                                                   â”‚          â”‚
                                                  NO         YES
                                                   â”‚          â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ Install pipx:    â”‚  â”‚ Test server:      â”‚
                                    â”‚ pip install pipx â”‚  â”‚ pipx run mode-    â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ manager-mcp --helpâ”‚
                                                          â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                          â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                          â”‚ Works?            â”‚
                                                          â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                                                              â”‚          â”‚
                                                             NO         YES
                                                              â”‚          â”‚
                                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”   â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                â”‚ Check VS Code   â”‚   â”‚ Restart server in â”‚
                                                â”‚ chat.mcp.enabledâ”‚   â”‚ extension panel   â”‚
                                                â”‚ setting         â”‚   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
                                                                      â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                                      â”‚ Should work now!  â”‚
                                                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Decision: Do I Need the MCP Server?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DO I NEED THE MCP SERVER FEATURE?                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                           START HERE
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ What do you want?    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚                   â”‚
        â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Track Copilot â”‚    â”‚ Copilot      â”‚    â”‚ Add memory   â”‚
â”‚ usage &       â”‚    â”‚ cost         â”‚    â”‚ & context to â”‚
â”‚ analytics     â”‚    â”‚ monitoring   â”‚    â”‚ Copilot Chat â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
        â”‚                    â”‚                    â”‚
        â”‚                    â”‚                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚               â”‚
                     â–¼               â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ MCP Server:      â”‚   â”‚ MCP Server:      â”‚
         â”‚                  â”‚   â”‚                  â”‚
         â”‚ âŒ NOT NEEDED    â”‚   â”‚ âœ… REQUIRED      â”‚
         â”‚                  â”‚   â”‚                  â”‚
         â”‚ Analytics work   â”‚   â”‚ Needs:           â”‚
         â”‚ standalone!      â”‚   â”‚ â€¢ Python 3.10+   â”‚
         â”‚                  â”‚   â”‚ â€¢ pipx           â”‚
         â”‚ Zero setup!      â”‚   â”‚ â€¢ mode-manager-  â”‚
         â”‚                  â”‚   â”‚   mcp server     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Structure Visualization

### Session JSON Structure

```
chatSession.json
â”œâ”€â”€ sessionId: string (UUID)
â”œâ”€â”€ createdAt: string (ISO 8601 timestamp)
â”œâ”€â”€ workspaceId?: string
â””â”€â”€ requests: Array
    â”œâ”€â”€ [0]
    â”‚   â”œâ”€â”€ requestId: string (UUID)
    â”‚   â”œâ”€â”€ timestamp: string (ISO 8601)
    â”‚   â”œâ”€â”€ model: string (e.g., "gpt-4", "gpt-3.5-turbo")
    â”‚   â”œâ”€â”€ agent?: string (e.g., "workspace", "inline")
    â”‚   â”œâ”€â”€ prompt?: string
    â”‚   â””â”€â”€ response
    â”‚       â”œâ”€â”€ latencyMs: number
    â”‚       â”œâ”€â”€ firstProgressMs?: number
    â”‚       â”œâ”€â”€ content?: string
    â”‚       â””â”€â”€ edits?: Array
    â”‚           â”œâ”€â”€ [0]
    â”‚           â”‚   â”œâ”€â”€ file: string (absolute path)
    â”‚           â”‚   â”œâ”€â”€ type: "create" | "modify" | "delete"
    â”‚           â”‚   â””â”€â”€ content?: string
    â”‚           â””â”€â”€ [1] ...
    â”œâ”€â”€ [1] ...
    â””â”€â”€ [n] ...

Total Parsed:
â€¢ Count sessions (distinct sessionId values)
â€¢ Count turns (total requests)
â€¢ Count edits (sum of all edits arrays)
â€¢ Calculate latency statistics (median, P95)
â€¢ Group by model (for usage breakdown)
â€¢ Group by agent (for agent statistics)
```

### Log Entry Structure

```
Copilot Log Entry (Parsed)
â”œâ”€â”€ timestamp: Date
â”œâ”€â”€ model: string
â”œâ”€â”€ agent?: string
â”œâ”€â”€ latencyMs?: number
â”œâ”€â”€ requestId?: string (if extractable)
â””â”€â”€ rawLine: string (original log line)

Example Raw Log Line:
[2024-12-09 10:15:23.456] [info] Copilot request model=gpt-4 agent=workspace latency=1234ms

Parsed Result:
{
  timestamp: Date(2024-12-09T10:15:23.456Z),
  model: "gpt-4",
  agent: "workspace",
  latencyMs: 1234,
  requestId: null,
  rawLine: "[2024-12-09 10:15:23.456] [info] Copilot request..."
}
```

---

## Performance Characteristics

### Processing Time Estimates

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    OPERATION PERFORMANCE                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Operation              â”‚ Time (Typical) â”‚ Notes                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Scan 100 sessions      â”‚ ~200-500ms     â”‚ Initial scan         â”‚
â”‚ Scan 1000 sessions     â”‚ ~2-5 seconds   â”‚ Large history        â”‚
â”‚ Parse single log file  â”‚ ~50-100ms      â”‚ Per 10MB file        â”‚
â”‚ Incremental update     â”‚ ~10-50ms       â”‚ New data only        â”‚
â”‚ Compute analytics      â”‚ ~50-200ms      â”‚ All metrics          â”‚
â”‚ Apply filter           â”‚ ~10-50ms       â”‚ Time/model filter    â”‚
â”‚ Render dashboard       â”‚ ~100-300ms     â”‚ First load           â”‚
â”‚ Update dashboard       â”‚ ~10-50ms       â”‚ Incremental          â”‚
â”‚ Export 1000 sessions   â”‚ ~500ms-1s      â”‚ JSON format          â”‚
â”‚ Export to CSV          â”‚ ~1-2 seconds   â”‚ Formatting overhead  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Memory Usage:
â€¢ Base extension: ~10-20 MB
â€¢ With 1000 sessions cached: ~50-80 MB
â€¢ With 10000 sessions: ~200-300 MB
â€¢ Real-time watchers: ~5-10 MB

Recommendations:
â€¢ Use time filters for large datasets (90d, 30d)
â€¢ Export data periodically to reduce memory
â€¢ Disable real-time updates if not needed
```

---

## Security & Privacy Flow

### Data Privacy Guarantee

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     YOUR DATA NEVER LEAVES YOUR MACHINE                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Your Machine â”‚
â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              VS Code User Data Directory                         â”‚   â”‚
â”‚  â”‚                                                                  â”‚   â”‚
â”‚  â”‚  â€¢ Chat session JSON files                                      â”‚   â”‚
â”‚  â”‚  â€¢ Copilot request logs                                         â”‚   â”‚
â”‚  â”‚  â€¢ All stored locally by VS Code                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             â”‚                                            â”‚
â”‚                             â”‚ Read-only access                           â”‚
â”‚                             â”‚ (never modified)                           â”‚
â”‚                             â–¼                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            Remember MCP Extension                                â”‚   â”‚
â”‚  â”‚                                                                  â”‚   â”‚
â”‚  â”‚  â€¢ Reads files locally                                          â”‚   â”‚
â”‚  â”‚  â€¢ Processes data in-memory                                     â”‚   â”‚
â”‚  â”‚  â€¢ Caches results locally                                       â”‚   â”‚
â”‚  â”‚  â€¢ NO NETWORK REQUESTS                                          â”‚   â”‚
â”‚  â”‚  â€¢ NO TELEMETRY                                                 â”‚   â”‚
â”‚  â”‚  â€¢ NO EXTERNAL SERVICES                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             â”‚                                            â”‚
â”‚                             â”‚ Display only                               â”‚
â”‚                             â”‚ (unless you export)                        â”‚
â”‚                             â–¼                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            VS Code Webview (Your Screen)                         â”‚   â”‚
â”‚  â”‚                                                                  â”‚   â”‚
â”‚  â”‚  â€¢ Analytics dashboard                                          â”‚   â”‚
â”‚  â”‚  â€¢ Activity feed                                                â”‚   â”‚
â”‚  â”‚  â€¢ Statistics                                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â”‚                  Optional: YOU decide to export                          â”‚
â”‚                             â”‚                                            â”‚
â”‚                             â–¼                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         Your Local File System (You Choose Location)             â”‚   â”‚
â”‚  â”‚                                                                  â”‚   â”‚
â”‚  â”‚  exported-data.json                                             â”‚   â”‚
â”‚  â”‚  exported-data.csv                                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

          âŒ NO CLOUD UPLOADS
          âŒ NO EXTERNAL APIs  
          âŒ NO TRACKING
          âŒ NO TELEMETRY
          âœ… 100% LOCAL
          âœ… YOU CONTROL YOUR DATA
```

---

## Comparison: Analytics vs MCP Features

### Feature Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     FEATURE COMPARISON TABLE                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Feature                â”‚ Analytics        â”‚ MCP Server Integration       â”‚
â”‚                        â”‚ (Primary)        â”‚ (Optional)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Track Copilot usage    â”‚ âœ… YES          â”‚ âŒ NO                        â”‚
â”‚ Model statistics       â”‚ âœ… YES          â”‚ âŒ NO                        â”‚
â”‚ Cost monitoring        â”‚ âœ… YES          â”‚ âŒ NO                        â”‚
â”‚ Performance metrics    â”‚ âœ… YES          â”‚ âŒ NO                        â”‚
â”‚ Activity history       â”‚ âœ… YES          â”‚ âŒ NO                        â”‚
â”‚ Data export            â”‚ âœ… YES          â”‚ âŒ NO                        â”‚
â”‚ Real-time updates      â”‚ âœ… YES          â”‚ âŒ NO                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Persistent memory      â”‚ âŒ NO           â”‚ âœ… YES                       â”‚
â”‚ Chat modes             â”‚ âŒ NO           â”‚ âœ… YES                       â”‚
â”‚ Custom prompts         â”‚ âŒ NO           â”‚ âœ… YES                       â”‚
â”‚ Workspace context      â”‚ âŒ NO           â”‚ âœ… YES                       â”‚
â”‚ Team knowledge sharing â”‚ âŒ NO           â”‚ âœ… YES                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Requires Python        â”‚ âŒ NO           â”‚ âœ… YES                       â”‚
â”‚ Requires external tool â”‚ âŒ NO           â”‚ âœ… YES (mode-manager-mcp)   â”‚
â”‚ Network access needed  â”‚ âŒ NO           â”‚ âŒ NO                        â”‚
â”‚ Works offline          â”‚ âœ… YES          â”‚ âœ… YES                       â”‚
â”‚ Zero setup required    â”‚ âœ… YES          â”‚ âŒ NO                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Can disable feature    â”‚ âŒ NO           â”‚ âœ… YES                       â”‚
â”‚                        â”‚ (core purpose)   â”‚ (optional)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Quick Reference: Component Map

```
Extension Architecture - Component Locations
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ src/
â”‚
â”œâ”€â”€ ğŸ“„ extension.ts ..................... Main entry point, activation
â”‚
â”œâ”€â”€ ğŸ“ scanning/ ....................... Data collection layer
â”‚   â”œâ”€â”€ ğŸ“„ chat-session-scanner.ts ..... Scans session JSON files
â”‚   â”œâ”€â”€ ğŸ“„ global-log-scanner.ts ....... Parses Copilot logs  
â”‚   â”œâ”€â”€ ğŸ“„ log-parsing-utils.ts ........ Log parsing utilities
â”‚   â””â”€â”€ ğŸ“„ log-path-discovery.ts ....... Finds log file locations
â”‚
â”œâ”€â”€ ğŸ“ services/ ....................... Business logic layer
â”‚   â”œâ”€â”€ ğŸ“„ unified-session-data-service.ts .. Data aggregation
â”‚   â”œâ”€â”€ ğŸ“„ analytics-service.ts ........ Metrics computation
â”‚   â””â”€â”€ ğŸ“„ session-data-transformer.ts . Data transformation
â”‚
â”œâ”€â”€ ğŸ“ webview/ ........................ Presentation layer
â”‚   â”œâ”€â”€ ğŸ“ copilot-usage-history-panel/ .... Main dashboard
â”‚   â”œâ”€â”€ ğŸ“ copilot-usage-panel/ ............ Quick stats
â”‚   â””â”€â”€ ğŸ“ server-control-panel/ ........... MCP controls
â”‚
â””â”€â”€ ğŸ“ types/ .......................... Type definitions
    â”œâ”€â”€ ğŸ“„ chat-session.ts ............. Session data types
    â”œâ”€â”€ ğŸ“„ logger.ts ................... Logging interfaces
    â””â”€â”€ ğŸ“„ service-container.ts ........ DI container

Key Files to Understand:
â€¢ extension.ts - How everything starts
â€¢ unified-session-data-service.ts - How data flows
â€¢ analytics-service.ts - How metrics are computed
â€¢ chat-session-scanner.ts - How sessions are read
```

---

## Legend

```
Diagram Symbols Used:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â”Œâ”€â”€â”€â”€â”€â”
  â”‚ Box â”‚     Component or process
  â””â”€â”€â”€â”€â”€â”˜

  â”€â”€â”€â–¶        Data flow direction

  â”â”â”â–¶        Optional or conditional flow

  â•â•â•â–¶        Primary/important flow

  â”Šâ”Šâ”Šâ–¶        Async/background process

  â•”â•â•â•â•—
  â•‘   â•‘       Important component
  â•šâ•â•â•â•

  [?]         Decision point

  (!)         Warning or note

  âœ…          Success/enabled
  âŒ          Disabled/not applicable
  âš ï¸          Caution/optional
```

---

## Additional Resources

- **README.md** - Quick start guide and overview
- **ARCHITECTURE.md** - Detailed technical documentation
- **EXTENSION_ANALYSIS.md** - Code quality and recommendations
- **TESTING.md** - Test strategy and execution guide

For more information, visit:
- [GitHub Repository](https://github.com/tobiashochguertel/remember-mcp-vscode)
- [VS Code Marketplace](https://marketplace.visualstudio.com/items?itemName=nickeolofsson.remember-mcp-vscode)
